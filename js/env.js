Molecule.module('Barrel', function(game) {
    return game.molecule.define({
        sprite: game.sprite.create('barrel'),
        init: function() {
            this.sprite.animation.add('wait', {
                frames: [0],
                speed: 1
            });
            this.sprite.animation.add('barrel_red', {
                frames: [1, 0, 1, 0],
                speed: 1
            });
            this.sprite.animation.add('barrel_green', {
                frames: [2],
                speed: 1
            });
            this.sprite.collides.group = 1;
            this.sprite.collides.boundaries = false;
            this.sprite.animation.stop();
            this.sprite.animation.run('wait', {
                loop: false,
                reverse: false
            });
            this.sprite.scrollable = false;
            this.sprite.position.x = 100;
            this.sprite.position.y = 260;
        },
        update: function() {
            if (this.sprite.collision.sprite.id !== null) {
                console.log('Yes');
                this.sprite.animation.run('barrel_red', {
                    loop: true
                });
                game.molecule.add('Boom', {
                    x: this.sprite.position.x,
                    y: this.sprite.position.y
                });
            }
        }
    });
});

Molecule.module('Boom', function(game) {
    return game.molecule.define({
        sprite: game.sprite.create('boom'),
        init: function() {
            this.sprite.position.x = this.x;
            this.sprite.position.y = this.y;
            this.sprite.animation.add('fire', {
                frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15],
                speed: 0.6
            });
            this.sprite.animation.stop();
            this.sprite.animation.run('fire', {
                loop: true,
                reverse: false
            });
        },
        update: function() {
            if (this.sprite.animation.end) {
                game.remove(this);
            }
        }
    });
});

Molecule.module('BoomOnEarth', function(game) {
    return game.molecule.define({
        sprite: game.sprite.create('boomOnEarth'),
        init: function() {
            this.sprite.animation.add('fire2', {
                frames: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24],
                speed: 0.9
            });
            this.sprite.animation.stop();
            this.sprite.animation.run('fire2', {
                loop: true,
                reverse: false
            });
            this.sprite.position.x = game.canvas.width / 3;
            this.sprite.position.y = game.canvas.height / 3;
        },
        update: function() {}
    });
});

//# sourceMappingURL=data:application/json;base64,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QUFaLEdBQW9CLENBTnpDLENBQUE7QUFBQSxNQU9BLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQWpCLEdBQXFCLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBWixHQUFxQixDQVAxQyxDQURFO0lBQUEsQ0FGTjtBQUFBLElBY0EsTUFBQSxFQUFRLFNBQUEsR0FBQSxDQWRSO0dBREwsQ0FBUCxDQUQyQjtBQUFBLENBQS9CLENBMURBLENBQUEiLCJmaWxlIjoiZW52LmpzIiwic291cmNlUm9vdCI6Ii9zb3VyY2UvIiwic291cmNlc0NvbnRlbnQiOlsiTW9sZWN1bGUubW9kdWxlICdCYXJyZWwnLCAoZ2FtZSktPlxuICAgIHJldHVybiAgZ2FtZS5tb2xlY3VsZS5kZWZpbmVcbiAgICAgICAgICAgICAgICBzcHJpdGU6IGdhbWUuc3ByaXRlLmNyZWF0ZSAnYmFycmVsJ1xuXG4gICAgICAgICAgICAgICAgaW5pdDogLT5cbiAgICAgICAgICAgICAgICAgICAgQHNwcml0ZS5hbmltYXRpb24uYWRkICd3YWl0Jyx7ZnJhbWVzOiBbMF0sIHNwZWVkOiAxIH1cblxuICAgICAgICAgICAgICAgICAgICBAc3ByaXRlLmFuaW1hdGlvbi5hZGQgJ2JhcnJlbF9yZWQnLCB7ZnJhbWVzOiBbMSwgMCwgMSwgMF0sIHNwZWVkOiAxIH1cblxuICAgICAgICAgICAgICAgICAgICBAc3ByaXRlLmFuaW1hdGlvbi5hZGQgJ2JhcnJlbF9ncmVlbicse2ZyYW1lczogWzJdLCBzcGVlZDogMSB9XG5cbiAgICAgICAgICAgICAgICAgICAgQHNwcml0ZS5jb2xsaWRlcy5ncm91cCA9IDFcbiAgICAgICAgICAgICAgICAgICAgQHNwcml0ZS5jb2xsaWRlcy5ib3VuZGFyaWVzID0gbm9cblxuICAgICAgICAgICAgICAgICAgICBkbyBAc3ByaXRlLmFuaW1hdGlvbi5zdG9wXG4gICAgICAgICAgICAgICAgICAgIEBzcHJpdGUuYW5pbWF0aW9uLnJ1biAnd2FpdCcsIGxvb3A6IG5vLCByZXZlcnNlOiBub1xuXG4gICAgICAgICAgICAgICAgICAgIEBzcHJpdGUuc2Nyb2xsYWJsZSA9IG5vXG5cbiAgICAgICAgICAgICAgICAgICAgQHNwcml0ZS5wb3NpdGlvbi54ID0gMTAwXG4gICAgICAgICAgICAgICAgICAgIEBzcHJpdGUucG9zaXRpb24ueSA9IDI2MFxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICAgICAgdXBkYXRlOiAtPlxuICAgICAgICAgICAgICAgICAgICBpZiBAc3ByaXRlLmNvbGxpc2lvbi5zcHJpdGUuaWQgIT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cgJ1llcydcbiAgICAgICAgICAgICAgICAgICAgICAgIEBzcHJpdGUuYW5pbWF0aW9uLnJ1biAnYmFycmVsX3JlZCcsIGxvb3A6IG9uXG4gICAgICAgICAgICAgICAgICAgICAgICBnYW1lLm1vbGVjdWxlLmFkZCAnQm9vbScse3g6IEBzcHJpdGUucG9zaXRpb24ueCwgeTogQHNwcml0ZS5wb3NpdGlvbi55fVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuXG5cbk1vbGVjdWxlLm1vZHVsZSAnQm9vbScsIChnYW1lKS0+XG4gICAgcmV0dXJuIGdhbWUubW9sZWN1bGUuZGVmaW5lXG4gICAgICAgICAgICAgICAgc3ByaXRlOiBnYW1lLnNwcml0ZS5jcmVhdGUgJ2Jvb20nXG5cbiAgICAgICAgICAgICAgICBpbml0OiAtPlxuICAgICAgICAgICAgICAgICAgICBAc3ByaXRlLnBvc2l0aW9uLnggPSBAeFxuICAgICAgICAgICAgICAgICAgICBAc3ByaXRlLnBvc2l0aW9uLnkgPSBAeVxuXG4gICAgICAgICAgICAgICAgICAgIEBzcHJpdGUuYW5pbWF0aW9uLmFkZCAnZmlyZScsIHtmcmFtZXM6IFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1XSwgc3BlZWQ6IDAuNiB9XG5cbiAgICAgICAgICAgICAgICAgICAgZG8gQHNwcml0ZS5hbmltYXRpb24uc3RvcFxuXG4gICAgICAgICAgICAgICAgICAgIEBzcHJpdGUuYW5pbWF0aW9uLnJ1biAnZmlyZScsIHtsb29wOiBvbiwgcmV2ZXJzZTogbm8gfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICAgICAgdXBkYXRlOiAtPlxuICAgICAgICAgICAgICAgICAgICBpZiBAc3ByaXRlLmFuaW1hdGlvbi5lbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIGdhbWUucmVtb3ZlIEBcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm5cblxuXG5cblxuTW9sZWN1bGUubW9kdWxlICdCb29tT25FYXJ0aCcsIChnYW1lKS0+XG4gICAgcmV0dXJuIGdhbWUubW9sZWN1bGUuZGVmaW5lXG4gICAgICAgICAgICAgICAgc3ByaXRlOiBnYW1lLnNwcml0ZS5jcmVhdGUgJ2Jvb21PbkVhcnRoJ1xuXG4gICAgICAgICAgICAgICAgaW5pdDogLT5cbiAgICAgICAgICAgICAgICAgICAgQHNwcml0ZS5hbmltYXRpb24uYWRkICdmaXJlMicsIHtmcmFtZXM6IFswLCAxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMCwgMTEsIDEyLCAxMywgMTQsIDE1LCAxNiwgMTcsIDE4LCAxOSwgMjAsIDIxLCAyMiwgMjMsIDI0XSwgc3BlZWQ6IDAuOSB9XG5cbiAgICAgICAgICAgICAgICAgICAgZG8gQHNwcml0ZS5hbmltYXRpb24uc3RvcFxuXG4gICAgICAgICAgICAgICAgICAgIEBzcHJpdGUuYW5pbWF0aW9uLnJ1biAnZmlyZTInLCB7bG9vcDogb24sIHJldmVyc2U6IG5vIH1cblxuICAgICAgICAgICAgICAgICAgICBAc3ByaXRlLnBvc2l0aW9uLnggPSBnYW1lLmNhbnZhcy53aWR0aCAvIDNcbiAgICAgICAgICAgICAgICAgICAgQHNwcml0ZS5wb3NpdGlvbi55ID0gZ2FtZS5jYW52YXMuaGVpZ2h0IC8gM1xuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuXG4gICAgICAgICAgICAgICAgdXBkYXRlOiAtPlxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuXG5cbiJdfQ==